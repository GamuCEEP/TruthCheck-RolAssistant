<div id="account">
  <img src onerror="init(this)" style="display:none">

  <g-resource model="user" action="show" resource-id="me" href="/api/auth/me" onsend="">
  </g-resource>
  <button id="swapper">Edit</button>
</div>

<script>
  function init(ctx){
    const local = ctx.parentElement
    const swapper = local.querySelector('#swapper')
    const card = local.querySelector('g-resource')
    const states = [
      {
        name: 'Cancel',
        action: 'edit'
      },
      {
        name: 'Edit',
        action: 'show'
      }
    ]
    let state = 0
    nextState()
    swapper.addEventListener('click',nextState)

    function nextState(){
      state = ++state % states.length
      card.setAttribute('action', states[state].action)
      swapper.innerText = states[state].name
    }
  }

</script>

<style>
  #account{
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    margin: 40px;
  }
  g-resource{
    display: block;
    width: 400px;
  }
  #swapper{
    width: 300px;
  }
</style>